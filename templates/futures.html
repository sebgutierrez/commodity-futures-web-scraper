<html>
	<head>
		<title>Item Details</title>
		<link href="{{ url_for('static', path='/styles.css') }}" rel="stylesheet">
	</head>
	<body>
		<h2>Futures: {{ commodity }}</h2>
		<ul>
			<li><a href="{{ url_for('get_commodity_data', commodity='copper') }}">Copper</a></li>
			<li><a href="{{ url_for('get_commodity_data', commodity='crude-oil') }}">Crude Oil</a></li>
			<li><a href="{{ url_for('get_commodity_data', commodity='gold') }}">Gold</a></li>
			<li><a href="{{ url_for('get_commodity_data', commodity='natural-gas') }}">Natural Gas</a></li>
		</ul>
		<h2>Overview</h2>
		{% for record in daily_overview %}
			{% for value in record %}
				<div>
					<span>{{ value }}</span>
					<span>{{ record[value] }}</span>
				</div>
			{% endfor %}
		{% endfor %}
		<div>DIV</div>
		{% for record in hourly_overview %}
			{% for value in record %}
				<div>
					<span>{{ value }}</span>
					<span>{{ record[value] }}</span>
				</div>
			{% endfor %}
		{% endfor %}
		<table>
			<thead>
				<tr>
					{% for header in daily_history_columns %}
						<th>{{ header }}</th>
					{% endfor %}
				</tr>
			</thead>
			<tbody>
				{% for row in daily_history %}
					<tr>
						{% for cell_data in row %}
							<td>{{ cell_data }}</td>
						{% endfor %}
					</tr>
				{% endfor %}
			</tbody>
		</table>
		<div>{{ daily_history_stats.highest }}</div>
		<div>{{ daily_history_stats.lowest }}</div>
		<div>{{ daily_history_stats.difference }}</div>
		<div>{{ daily_history_stats.average }}</div>
		<div>
			<canvas id="myChart"></canvas>
		</div>
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

		<script>
			const ctx = document.getElementById('myChart');
			// "{{ daily_overview }}"
			let history_vals = '{{ hourly_overview | tojson }}'
			console.log(history_vals)
			new Chart(ctx, {
				type: 'line',
				data: {
					labels: ['Blue'],
					datasets: [
						{
							label: "{{ commodity }}",
							data: [1],
							borderWidth: 2,
							fill: true
						}
					]
				},
				options: {
					plugins: {
						filler: {
							propagate: false,
						},
						title: {
							display: true,
							text: (ctx) => 'Fill: ' + ctx.chart.data.datasets[0].fill
						}
					},
					interaction: {
						intersect: false,
					}
				},
			});
		</script>
	</body>
</html>